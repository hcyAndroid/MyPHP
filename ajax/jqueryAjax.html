<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>jquery中的ajax请求</title>
    <script src="../jquery/jquery-1.12.4.js"></script>
    <script src="../js/nprogress.js"></script>
    <link rel="stylesheet" href="../css/bootstrap.css">
    <link rel="stylesheet" href="../css/nprogress.css">
</head>
<body>

<!--<div class="loading alert-danger">-->
<!--    ddddddd-->
<!--</div>-->

<script>
    // $.ajax({
    //     url: './xml.php',
    //     data:{id:'9'},
    //     dataType:'json',//设置响应体的类型
    //     type: 'post',//method 请求方式
    //     success: function (res) {//请求成功的回调函数
    //         //res会根据响应头自动转换成字符串/对象
    //         console.log(res);
    //     }
    // })


    // $.ajax({
    //     url: './xml2.php',
    //     type: 'post',
    //     data: {id: '9'},
    //     dataType: 'json',
    //     beforeSend: function (xhr) {
    //         //readstate=0
    //         console.log('发送之前',xhr);//状态码==200才会触发这个函数
    //
    //     },
    //     success: function (res) {
    //         //readstate=4
    //         console.log('成功' , res);//状态码==200才会触发这个函数
    //     },
    //     error: function (xhr) {
    //         //readstate=4
    //         console.log('失败' , xhr);
    //     },
    //     complete: function (xhr) {
    //         //失败与成功的共同代码
    //         //readstate=4
    //         console.log('完成' , xhr);
    //     }
    // });


    // $.post({
    //     url:'./xml.php',
    //     dataType:'json',
    //     data:{id:'9'},
    //     success:function (res) {
    //        console.log(res);
    //     }
    // });
</script>


<script>
    //jquery全局事件处理函数


    $(document).ajaxStart(function () {
        console.log('在AJAX 请求刚开始时执行一个处理函数');
        NProgress.start();
    }).ajaxStop(function () {
        console.log('在AJAX 请求完成时执行一个处理函数');
        NProgress.done();
    });

    $.ajax({
        url: "http://www.baidu.com",
        type: 'get',
        success:function (res) {
            console.log('请求成功')
            console.log(res)
        },
        error:function (xhr) {
            console.log('请求失败')
            console.log(xhr,xhr.status)
        }
    });

</script>

</body>
</html>